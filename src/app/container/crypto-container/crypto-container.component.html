<div *ngIf="!cryptoList">
  <app-loading-spinner></app-loading-spinner>
</div>

<div *ngIf="cryptoList && cryptoList.length > 0">
  <table mat-table [dataSource]="dataSource">
    <ng-container matColumnDef="rank">
      <mat-header-cell *matHeaderCellDef> Rank </mat-header-cell>
      <mat-cell *matCellDef="let row"> {{ row.rank }} </mat-cell>
    </ng-container>

    <ng-container matColumnDef="name">
      <mat-header-cell *matHeaderCellDef> Name </mat-header-cell>
      <mat-cell *matCellDef="let row">
        <a [routerLink]="getDetailRoute(row.id)">
          {{ row.name }}
        </a>
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="symbol">
      <mat-header-cell *matHeaderCellDef> Symbol </mat-header-cell>
      <mat-cell *matCellDef="let row"> {{ row.symbol }} </mat-cell>
    </ng-container>

    <ng-container matColumnDef="priceUsd">
      <mat-header-cell *matHeaderCellDef> Price (USD) </mat-header-cell>
      <mat-cell *matCellDef="let row">
        {{ (+row.priceUsd).toFixed(2) }}
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="changePercent24Hr">
      <mat-header-cell *matHeaderCellDef> Î”% / 24h </mat-header-cell>
      <mat-cell *matCellDef="let row">
        {{ (+row.changePercent24Hr).toFixed(2) }}
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="supply">
      <mat-header-cell *matHeaderCellDef> Supply </mat-header-cell>
      <mat-cell *matCellDef="let row">
        {{ (+row.supply).toFixed(2) }}
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="maxSupply">
      <mat-header-cell *matHeaderCellDef> Max Supply </mat-header-cell>
      <mat-cell *matCellDef="let row">
        {{ (+row.maxSupply).toFixed(2) }}
      </mat-cell>
    </ng-container>

    <!-- Header and Row Declarations -->
    <mat-header-row
      *matHeaderRowDef="[
        'rank',
        'name',
        'symbol',
        'priceUsd',
        'changePercent24Hr',
        'supply',
        'maxSupply'
      ]"
    ></mat-header-row>
    <mat-row
      *matRowDef="
        let row;
        columns: [
          'rank',
          'name',
          'symbol',
          'priceUsd',
          'changePercent24Hr',
          'supply',
          'maxSupply'
        ]
      "
    ></mat-row>
  </table>
</div>
